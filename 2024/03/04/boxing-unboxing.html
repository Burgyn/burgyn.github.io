<!DOCTYPE html>
<html lang="en" class="colors theme-dark-2 entities fonts code-style"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark">

    <!-- cache -->
    <meta http-equiv="Cache-Control" content="max-age=86400, must-revalidate" />    

    <!-- Pridanie Slick Carousel CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <!-- Pridanie Slick Carousel Theme CSS (voliteƒæn√©) -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
    <!-- Pridanie jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Pridanie Lightbox CSS a JS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox-plus-jquery.min.js"></script>
    <!-- Pridanie Slick Carousel JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css">

    <!-- IMPORTANT -->
    <script src="https://use.fontawesome.com/ee196462b9.js"></script>

    <!-- keywoards -->
    
    <meta name="keywords" content="Boxing, Unboxing, .NET, CLR, System.Object, GC, Guid, StringBuilder, IDisposable, Stack, Heap, Reference type, Value type, Generics, String interpolation, C#">
    

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FYN9BGS01R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-FYN9BGS01R');
    </script>

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Boxing &amp; UnBoxing - Back to the basics | Burgyn‚Äôs blog</title>
<meta name="generator" content="Jekyll v4.0.1" />
<meta property="og:title" content="Boxing &amp; UnBoxing - Back to the basics" />
<meta name="author" content="Milan Martiniak" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Explore the basics of Boxing and UnBoxing in .NET, their importance, and how to properly use or avoid them." />
<meta property="og:description" content="Explore the basics of Boxing and UnBoxing in .NET, their importance, and how to properly use or avoid them." />
<link rel="canonical" href="https://blog.burgyn.online/2024/03/04/boxing-unboxing" />
<meta property="og:url" content="https://blog.burgyn.online/2024/03/04/boxing-unboxing" />
<meta property="og:site_name" content="Burgyn‚Äôs blog" />
<meta property="og:image" content="https://blog.burgyn.online/assets/images/code_images/boxing-unboxing/cover.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-03-04T04:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://blog.burgyn.online/assets/images/code_images/boxing-unboxing/cover.png" />
<meta property="twitter:title" content="Boxing &amp; UnBoxing - Back to the basics" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Milan Martiniak","url":"https://burgyn.bio.link/"},"dateModified":"2024-03-04T04:00:00+00:00","datePublished":"2024-03-04T04:00:00+00:00","description":"Explore the basics of Boxing and UnBoxing in .NET, their importance, and how to properly use or avoid them.","headline":"Boxing &amp; UnBoxing - Back to the basics","image":"https://blog.burgyn.online/assets/images/code_images/boxing-unboxing/cover.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.burgyn.online/2024/03/04/boxing-unboxing"},"url":"https://blog.burgyn.online/2024/03/04/boxing-unboxing"}</script>
<!-- End Jekyll SEO tag -->


    


    <!-- CSS -->
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/android-chrome-512x512.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/android-chrome-192x192.png">
    <link rel="android-chrome-192x192" type="image/png" sizes="192x192" href="/assets/android-chrome-192x192.png">
    <link rel="android-chrome-512x512" type="image/png" sizes="512x512" href="/assets/android-chrome-512x512.png">

    <!-- PWA -->
    <link rel="manifest" href="/assets/manifest.json">

    <!-- RSS -->
    <link type="application/atom+xml" rel="alternate" href="https://blog.burgyn.online/feed.xml" title="Burgyn's blog" />

    <!-- Google Analytics-->
    
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark'
        });
    </script>
</head><body>
    <svg width="0" height="0">
        <defs>
            <marker id="custom-arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <path d="M0,0 L0,7 L10,3.5 z"></path>
            </marker>
        </defs>
    </svg>
    <nav class="nav">
  <div class="nav-container">
    <a href="/">
      <div class="site-name">
        <img src="/assets/android-chrome-192x192.png" alt="Burgyn's logo" class="nav-logo">
        <h2 class="nav-title">Burgyn's blog</h2>
      </div>
    </a>    
    <ul>
      <li><a href="/">Posts</a></li>
      <li><a href="/about/">About me</a></li>
    </ul>
  </div>
</nav>

    <main class="page-content" aria-label="Content">
        <div class="wrapper">
            <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title p-name" itemprop="name headline"><p>Boxing &amp; UnBoxing - Back to the basics</p>
</h1>
        <p class="post-meta">
            <time class="dt-published" datetime="2024-03-04T04:00:00+00:00" itemprop="datePublished">Mar 4, 2024
            </time><span itemprop="author" itemscope
                itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name"> | Milan Martiniak</span></span>
            | <span class="fa fa-tags" aria-label="Tags"> </span> 
            <span>
                <!-- <a href="/tags/csharp">csharp</a> -->
                csharp, 
            </span> 
            <span>
                <!-- <a href="/tags/dotnet">dotnet</a> -->
                dotnet, 
            </span> 
            <span>
                <!-- <a href="/tags/architecture">architecture</a> -->
                architecture
            </span>  
        </p>
    </header>

    
    <div class="post-thumbnail">
        <img src="/assets/images/code_images/boxing-unboxing/cover.png" alt="Boxing & UnBoxing - Back to the basics" itemprop="image">
    </div>
    

    <div class="post-content e-content" itemprop="articleBody">
        <p>Unless you know what <strong>Boxing and UnBoxing</strong> <em>(no UnBoxing is not fancy unboxing a new iPhone by your favorite youtuber)</em> is, don‚Äôt read this post. In all likelihood, you won‚Äôt learn anything new here.</p>

<p>I belong to the group of people who were caught by the times that when they wanted to get started with a new technology, they had to wade through books. Usually something like two or three 400-600 pages books.
You had to go through the basics, understand the language, its syntax, basic concepts, ‚Ä¶ how compilation works, memory management, runtime. He was learning about the ecosystem, the libraries, the tools, ‚Ä¶
He did the standard ‚ÄúHello World‚Äù <em>(does anyone else do that? ü§î)</em> and then he started a more complex project.</p>

<p>Today it‚Äôs different. People learn from blogs, on youtube, ‚Ä¶ Such a person can very quickly start working on a project <em>(either his or her own or at work)</em> and dedicate himself to what he needs.
This is great.</p>

<p>But there should also come a stage when one starts to be interested in things like: Why does the <code class="highlighter-rouge">StringBuilder</code> class exist, what is this Garbage Collector, why is it important to use <code class="highlighter-rouge">using</code> when working with <code class="highlighter-rouge">IDisposable</code>, what did generics come about, ‚Ä¶ Simply to move on and be able to do better things, one needs to know more than just language syntax and feature libraries.</p>

<p>It‚Äôs the same with <strong>Boxing and UnBoxing</strong>.</p>

<p>So this is a bit of a back to basics for those who are already programming in .NET but don‚Äôt know about this concept, or just have a hunch.</p>

<h2 id="boxing">Boxing</h2>

<p>Boxing is the process where a value type <em>(variable whose value is on the stack)</em> is converted to a reference type <em>(variable whose value is on the heap)</em>. This process is implicit, that is, it happens automatically.
When the CLR boxes a value type, it creates a new instance of <code class="highlighter-rouge">System.Object</code> and copies the value from the original variable to this object.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age</span> <span class="p">=</span> <span class="m">39</span><span class="p">;</span>

<span class="kt">object</span> <span class="n">age_obj</span> <span class="p">=</span> <span class="n">age</span><span class="p">;</span> <span class="c1">// üëà boxing value</span>
</code></pre></div></div>

<p>Another example where it may not be so obvious:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Guid</span> <span class="n">id</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">amount</span> <span class="p">=</span> <span class="m">42</span><span class="p">;</span>
<span class="kt">decimal</span> <span class="n">price</span> <span class="p">=</span> <span class="m">42.42</span><span class="n">m</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">text</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span>
    <span class="s">"The id is {0}, the amount is {1}, the price is {2}"</span><span class="p">,</span>
    <span class="n">id</span><span class="p">,</span> <span class="n">amount</span><span class="p">,</span> <span class="n">price</span><span class="p">);</span> <span class="c1">// üëà boxing values</span>
</code></pre></div></div>

<p>On a stack it might look like this, for example:
<img src="/assets/images/code_images/boxing-unboxing/stack.png" alt="Stack" /></p>

<p>On a heap after boxing, it might look like this, for example:
<img src="/assets/images/code_images/boxing-unboxing/heap.png" alt="Heap" /></p>

<h2 id="unboxing">UnBoxing</h2>

<p>UnBoxing is the opposite process to Boxing. It is a process where a value from a reference type is converted back to a value type, 
which means it is extracted from the heap and moved to the stack. This process is explicit.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">age2</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">age_obj</span><span class="p">;</span> <span class="c1">// üëà unboxing value</span>
</code></pre></div></div>

<h2 id="advantages-and-disadvantages">Advantages and disadvantages</h2>

<p>Boxing and UnBoxing is a process that allows us to treat both value and reference types as one type in situations where we need to.
However, as already felt, it is a process that is not free. It has a price.</p>

<ol>
  <li>It is necessary to allocate memory for a new object.</li>
  <li>You need to copy the value from the original variable to the new object.</li>
  <li>Since it is a reference type, it needs to be managed afterwards <em>(GC)</em> * <em>(each GC execution means, for example, freezing the web API, ‚Ä¶)</em></li>
</ol>

<p>There are situations where boxing can be avoided. For example, this was one of the reasons why generics came to .NET.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">AddToArrayList</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">MaxCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">_arrayList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">AddToList</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">MaxCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">_list</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">|</span> <span class="n">Method</span>         <span class="p">|</span> <span class="n">Mean</span>      <span class="p">|</span> <span class="n">Error</span>     <span class="p">|</span> <span class="n">StdDev</span>    <span class="p">|</span> <span class="n">Median</span>    <span class="p">|</span>
<span class="p">|---------------</span> <span class="p">|----------:|----------:|----------:|----------:|</span>
<span class="p">|</span> <span class="n">AddToArrayList</span> <span class="p">|</span> <span class="m">82.743</span> <span class="n">ms</span> <span class="p">|</span> <span class="m">13.359</span> <span class="n">ms</span> <span class="p">|</span> <span class="m">29.880</span> <span class="n">ms</span> <span class="p">|</span> <span class="m">70.806</span> <span class="n">ms</span> <span class="p">|</span>
<span class="p">|</span> <span class="n">AddToList</span>      <span class="p">|</span>  <span class="m">8.414</span> <span class="n">ms</span> <span class="p">|</span>  <span class="m">4.583</span> <span class="n">ms</span> <span class="p">|</span> <span class="m">10.250</span> <span class="n">ms</span> <span class="p">|</span>  <span class="m">5.068</span> <span class="n">ms</span> <span class="p">|</span>
</code></pre></div></div>

<p>Everyone probably knows about this advantage and the use of generics, and I didn‚Äôt surprise anyone with that. But did you know about this, for example?</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
<span class="k">public</span> <span class="kt">string</span> <span class="nf">UseStringFormat</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"Product: {0}, Price: {1} {2}, Amount: {3}. Date: {4} (Id: {5})"</span><span class="p">,</span>
        <span class="n">productName</span><span class="p">,</span> <span class="n">price</span><span class="p">,</span> <span class="n">currency</span><span class="p">,</span> <span class="n">stockQuantity</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">guid</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">[</span><span class="n">Benchmark</span><span class="p">]</span>
<span class="k">public</span> <span class="kt">string</span> <span class="nf">UseStringInterpolation</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="s">$"Product: </span><span class="p">{</span><span class="n">productName</span><span class="p">}</span><span class="s">, Price: </span><span class="p">{</span><span class="n">price</span><span class="p">}</span><span class="s"> </span><span class="p">{</span><span class="n">currency</span><span class="p">}</span><span class="s">, "</span> <span class="p">+</span>
        <span class="s">$"Amount: </span><span class="p">{</span><span class="n">stockQuantity</span><span class="p">}</span><span class="s">. Date: </span><span class="p">{</span><span class="n">date</span><span class="p">}</span><span class="s"> (Id: </span><span class="p">{</span><span class="n">guid</span><span class="p">}</span><span class="s">)"</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">|</span> <span class="n">Method</span>                   <span class="p">|</span> <span class="n">Mean</span>     <span class="p">|</span> <span class="n">Error</span>   <span class="p">|</span> <span class="n">StdDev</span>   <span class="p">|</span> <span class="n">Gen0</span>   <span class="p">|</span> <span class="n">Allocated</span> <span class="p">|</span>
<span class="p">|-------------------------</span> <span class="p">|---------:|--------:|---------:|-------:|----------:|</span>
<span class="p">|</span> <span class="n">UseStringFormat</span>          <span class="p">|</span> <span class="m">287.1</span> <span class="n">ns</span> <span class="p">|</span> <span class="m">5.62</span> <span class="n">ns</span> <span class="p">|</span>  <span class="m">7.69</span> <span class="n">ns</span> <span class="p">|</span> <span class="m">0.0544</span> <span class="p">|</span>     <span class="m">456</span> <span class="n">B</span> <span class="p">|</span>
<span class="p">|</span> <span class="n">UseStringInterpolation</span>   <span class="p">|</span> <span class="m">204.9</span> <span class="n">ns</span> <span class="p">|</span> <span class="m">4.00</span> <span class="n">ns</span> <span class="p">|</span>  <span class="m">6.89</span> <span class="n">ns</span> <span class="p">|</span> <span class="m">0.0324</span> <span class="p">|</span>     <span class="m">272</span> <span class="n">B</span> <span class="p">|</span>
</code></pre></div></div>

<p>String interpolation is faster than <code class="highlighter-rouge">string.Format</code> and more importantly causes less allocations and therefore less work for the GC.</p>

<p>Why is this so? There are multiple reasons, but one of them is that string interpolation uses generics in the background. 
And there arises something like the following:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DefaultInterpolatedStringHandler</span> <span class="n">handler</span> <span class="p">=</span> <span class="k">new</span> <span class="p">();</span>

<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">"Product: "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendFormatted</span><span class="p">(</span><span class="n">productName</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">", Price: "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="n">AppendFormatted</span><span class="p">&lt;</span><span class="kt">decimal</span><span class="p">&gt;(</span><span class="n">price</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">" "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendFormatted</span><span class="p">(</span><span class="n">currency</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">", Amount: "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="n">AppendFormatted</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;(</span><span class="n">stockQuantity</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">". Date: "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="n">AppendFormatted</span><span class="p">&lt;</span><span class="n">DateTime</span><span class="p">&gt;(</span><span class="n">date</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">" (Id: "</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="n">AppendFormatted</span><span class="p">&lt;</span><span class="n">Guid</span><span class="p">&gt;(</span><span class="n">guid</span><span class="p">);</span>
<span class="n">handler</span><span class="p">.</span><span class="nf">AppendLiteral</span><span class="p">(</span><span class="s">")"</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>Boxing and UnBoxing is a process that is very important in .NET and it is good to know how it works so that we can use it properly or avoid it üôÇ .</p>

<h2 id="links">Links</h2>

<ul>
  <li><a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/types/boxing-and-unboxing">Boxing and Unboxing</a></li>
  <li><a href="https://github.com/dotnet/BenchmarkDotNet">BenchmarkDotNet</a></li>
</ul>

    </div>

    <div class="carousel">
        
    </div>

    <a class="u-url" href="/2024/03/04/boxing-unboxing" hidden></a>

</article>

            <script data-name="BMC-Widget" data-cfasync="false" 
                src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
                data-id="minomartiniak" 
                data-description="Support me on Buy me a coffee!" 
                data-message="" 
                data-color="#00BF63" data-position="Right" 
                data-x_margin="25" 
                data-y_margin="50">
            </script>
        </div>
    </main><footer class="footer">
  <span>
    &copy; <time datetime="2024-08-02 20:21:57 +0000">2024</time> Milan Martiniak
    <a rel="me" href="https://github.com/burgyn"
      title="GitHub - burgyn">
      <span class="fa fa-github" aria-label="GitHub"></span>
    </a>
    <a rel="me" href="https://twitter.com/minomartiniak"
      title="Twitter - minomartiniak">
      <span class="fa fa-twitter" aria-label="Twitter"></span>
    </a>
    <a rel="me" href="https://linkedin.com/in/milanmartiniak" title="LinkedIn - Milan Martiniak">
      <span class="fa fa-linkedin" aria-label="LinkedIn"></span>
    </a>

    <a rel="me" href="https://blog.burgyn.online/feed.xml" title="RSS feed">
      <span class="fa fa-rss" aria-label="RSS"></span>
    </a>
  </span>
</footer><script type="text/javascript">
        $(document).ready(function () {
            $('.carousel').slick({
                dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1,
                centerMode: false,
                focusOnSelect: true,
                infinite: false,
                adaptiveHeight: true
            });
        });

        lightbox.option({
            'resizeDuration': 50,
            'wrapAround': false,
            'fadeDuration': 50,
            'imageFadeDuration': 50,
            'resizeDuration': 50            
        })

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js').then(function(registration) {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, function(err) {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>

</html>